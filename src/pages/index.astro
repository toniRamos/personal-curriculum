---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Social from '../components/Social.astro';
import Loader from '../components/Loader.astro';
import { getLangFromUrl, useTranslations } from '../i18n/ui';
import { siteConfig } from '../config/site';

// Image paths - using string literals for public folder assets
const profilePicture = '/portfolio/images/profile/profile-picture.jpg';
const portfolioScreenshot = '/portfolio/images/projects/portfolio-screenshot.png';
const videoStoreScreenshot = '/portfolio/images/projects/video-store-screenshot.png';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={siteConfig.title}>
	<Loader />
	<Navigation />
	<Social />
	
	<!-- Hero Section -->
	<section id="hero" class="hero">
		<div class="container">
			<div class="hero-content">
				<p class="intro">{t('hero.intro')}</p>
				<h1 class="hero-title">{t('hero.name')}</h1>
				<h2 class="hero-subtitle">{t('hero.subtitle')}</h2>
				<p class="hero-description">
					{t('hero.description')}
				</p>
				<div class="hero-cta">
					<a href="#contact" class="cta-button">{t('hero.cta')}</a>
				</div>
			</div>
		</div>
	</section>

	<!-- About Section -->
	<section id="about" class="about">
		<div class="container">
			<div class="section-header reveal-element">
				<h2 class="section-title">
					<span class="section-number">{t('about.number')}</span>
					{t('about.title')}
				</h2>
			</div>
			<div class="about-content reveal-element">
				<div class="about-text">
					<p>
						{t('about.paragraphs.intro')}
					</p>
					<p>
						{t('about.paragraphs.journey')}
					</p>
					<p class="expertise-intro">
						{t('about.paragraphs.expertise')}
					</p>
					<p>
						{t('about.paragraphs.skills')}
					</p>
					<p>
						{t('about.paragraphs.experience')}
					</p>
					<p class="conclusion">
						<strong>{t('about.paragraphs.conclusion')}</strong>
					</p>
					<ul class="skills-list">
						<li>JavaScript (ES6+)</li>
						<li>TypeScript</li>
						<li>React</li>
						<li>Node.js</li>
						<li>Microservices</li>
						<li>MongoDB</li>
						<li>Redis</li>
						<li>Docker</li>
						<li>CI/CD</li>
						<li>DDD</li>
						<li>Clean Architecture</li>
						<li>Hexagonal Architecture</li>
					</ul>
				</div>
				<div class="about-image">
					<div class="image-wrapper animate-profile">
						<img 
							src={profilePicture}
							alt="Antonio Ramos - Arquitecto de Software"
							loading="lazy"
						/>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Experience Section -->
	<section id="experience" class="experience">
		<div class="container">
			<div class="section-header reveal-element">
				<h2 class="section-title">
					<span class="section-number">{t('experience.number')}</span>
					{t('experience.title')}
				</h2>
			</div>
			<div class="experience-content reveal-element">
				{t('experience.jobs').map((job, index) => (
					<div class="job-card reveal-stagger" key={index}>
						<div class="job-content">
							<h3>{job.title} <span class="company">@ {job.company}</span></h3>
							<p class="job-duration">{job.duration}</p>
							<p class="job-location">{job.location}</p>
							<ul class="job-responsibilities">
								{job.responsibilities.map((responsibility, respIndex) => (
									<li key={respIndex}>{responsibility}</li>
								))}
							</ul>
							<div class="job-technologies">
								{job.technologies.map((tech, techIndex) => (
									<span class="tech-tag" key={techIndex}>{tech}</span>
								))}
							</div>
						</div>
						<div class="job-highlight">
							<div class="job-company-name">{job.company}</div>
						</div>
					</div>
				))}
			</div>
		</div>
	</section>

	<!-- Projects Section -->
	<section id="projects" class="projects">
		<div class="container">
			<div class="section-header reveal-element">
				<h2 class="section-title">
					<span class="section-number">{t('projects.number')}</span>
					{t('projects.title')}
				</h2>
			</div>
			<div class="projects-content reveal-element">
				<div class="project-card featured reveal-stagger">
					<div class="project-content">
						<p class="project-overline">{t('projects.featured')}</p>
						<h3 class="project-title">
							<a href="https://github.com/toniRamos/personal-curriculum" target="_blank">Portfolio Personal</a>
						</h3>
						<div class="project-description">
							<p>
								Portfolio profesional multiidioma construido con Astro y TypeScript. 
								Implementa animaciones optimizadas, arquitectura limpia, deployment 
								con Docker y sistema completo de internacionalización (ES/EN).
							</p>
						</div>
						<div class="project-technologies">
							<span class="tech-tag">Astro</span>
							<span class="tech-tag">TypeScript</span>
							<span class="tech-tag">CSS3</span>
							<span class="tech-tag">Docker</span>
							<span class="tech-tag">Anime.js</span>
							<span class="tech-tag">i18n</span>
						</div>
					</div>
					<div class="project-image">
						<a href="https://github.com/toniRamos/personal-curriculum" target="_blank">
							<img 
								src={portfolioScreenshot}
								alt="Captura de pantalla del Portfolio Personal"
								loading="lazy"
							/>
						</a>
					</div>
				</div>

				<div class="project-card reveal-stagger">
					<div class="project-content">
						<p class="project-overline">{t('projects.personal')}</p>
						<h3 class="project-title">
							<a href="https://github.com/toniRamos/video-store" target="_blank">Gestión de Videoclub</a>
						</h3>
						<div class="project-description">
							<p>
								Sistema moderno de gestión de videoclub con auditoría integral de usuarios, 
								catálogo de películas y operaciones CRUD completas. Construido con principios 
								de Domain-Driven Design (DDD) y sistema completo de auditoría para 
								cumplimiento normativo y seguimiento de cambios.
							</p>
						</div>
						<div class="project-technologies">
							<span class="tech-tag">Node.js</span>
							<span class="tech-tag">React</span>
							<span class="tech-tag">TypeScript</span>
							<span class="tech-tag">MongoDB</span>
							<span class="tech-tag">Redis</span>
							<span class="tech-tag">Docker</span>
							<span class="tech-tag">Express</span>
							<span class="tech-tag">DDD</span>
						</div>
					</div>
					<div class="project-image">
						<a href="https://github.com/toniRamos/video-store" target="_blank">
							<img 
								src={videoStoreScreenshot}
								alt="Captura de pantalla del Sistema de Gestión de Videoclub"
								loading="lazy"
							/>
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Contact Section -->
	<section id="contact" class="contact">
		<div class="container">
			<div class="section-header reveal-element">
				<h2 class="section-title">
					<span class="section-number">{t('contact.number')}</span>
					{t('contact.title')}
				</h2>
			</div>
			<div class="contact-content reveal-element">
				<h2 class="contact-title">{t('contact.heading')}</h2>
				<p class="contact-description">
					{t('contact.description')}
				</p>
				<a href={`mailto:${siteConfig.email}`} class="contact-button">{t('contact.button')}</a>
			</div>
		</div>
	</section>
</Layout>

<link rel="stylesheet" href="/src/styles/landing.css">

<style is:global>
/* Estilos adicionales específicos de esta página pueden ir aquí */
</style>

<script src="/src/scripts/landing-animations.js"></script>
